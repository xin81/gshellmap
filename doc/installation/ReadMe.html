<!DOCTYPE html>
<html>
<head>
<title>Installation and Compilation</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" />
<meta name="author" content="Nguyen Viet Tan" />
<meta name="date" content="26/02/2015" />
<meta name="language" content="en-GB" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Documentation on the desktop application GShell Map (by Nguyen Viet Tan). This document explains the installation, the compilation, and execution of this application." />
<meta name="keywords" content="GoogleMap API, GoogleMap Services, Distance Matrix API, Geocoding API, Elevation API, phone book, Google WebService" />
</head>
<body>
<h1>Setup Instruction for GShell Map</h1>
<i>by Nguễn Việt Tân</i> (阮越新)
<h2>Installation and Compilation</h2>
This application depends on
<ul>
<li><a href="https://github.com/googlemaps/google-maps-services-java">google-maps-services-java-master</a></li>
<li><a href="https://github.com/square/okio">okio-master</a></li>
<li><a href="http://grepcode.com/snapshot/repo1.maven.org/maven2/com.google.code.gson/gson/2.3.1">gson-2.3.1.jar</a></li>
<li><a href="http://dev.mysql.com/downloads/connector/j/">mysql-connector-java-5.1.34-bin.jar</a></li>
<li><a href="https://android.googlesource.com/platform/external/okhttp/+/master">okhttp-2.2.0.jar</a></li>
<li><a href="https://github.com/JodaOrg/joda-time">joda-time-2.7.jar</a></li>
</ul>

<a href="https://github.com/square/okio">okio-master</a> depends on <a href="http://mojo.codehaus.org/animal-sniffer/animal-sniffer-annotations/source-repository.html">animal-sniffer</a>

If possible, try to download archive files. Otherwise, you will have to download entire projects on your hard disk via svn or git.
You also might need these additional .jar files to get all depending projects compiled:
<ul>
<li><a href="http://caliper.googlecode.com/files/caliper-1.0-beta-1-all.jar">caliper-1.0-beta-1-all.jar</a>
<li><a href="http://archive.apache.org/dist/commons/cli/binaries/">commons-cli-1.2.jar</a></li>
<li><a href="http://junit.org/">hamcrest-core-1.3.jar</a></li>
<li><a href="http://hc.apache.org/downloads.cgi">httpclient-4.4.jar</a></li>
<li><a href="http://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore/4.4">httpcore-4.4.jar</a></li>
<li><a href="http://www.bouncycastle.org/latest_releases.html">jce-jdk13-151.jar</a></li>
<li><a href="http://jsoup.org/download">jsoup-1.8.1.jar</a></li>
<li><a href="http://junit.org/">junit-4.10.jar</a></li>
<li><a href="http://www.java2s.com/Code/Jar/n/Downloadnettyall402finaljar.htm">netty-all-4.0.25.Final.jar</a></li>
<li><a href="http://mvnrepository.com/artifact/org.openjdk.jmh/jmh-core/1.6">jmh-core#1.6.jar</a></li>
<li><a href="http://www.java2s.com/Code/Jar/g/Downloadgradlewrapperjar.htm">gradle-wrapper.jar</a></li>
<li><a href="https://code.google.com/p/mockito/downloads/list">mockito-all-1.9.5.jar</a></li>
<li><a href="http://mockwebserver.googlecode.com/files/mockwebserver-20120401.jar">mockwebserver-20120401.jar</a></li>
</ul>

After downloading all necessary projects and .jar files, your workspace should look similar to the screenshot below.
In my eclipse workspace, the projects <i>animal-sniffer, google-maps-services-java-master, okio-master,</i>
and of course <i>GoogleMap</i> (my own Java Project for the GShell Map application)
are connected to each other due to their dependencies.<br />
<img src="workspace03.png" alt="screenshot of the author's workspace" width="30%" />

<h2>Google API-Key</h2>
To use this application, you need a Google Developer account, and an API-Key. Follow the instructions on
<a href="https://developers.google.com/maps/documentation/webservices/client-library#requirements">developers.google.com</a>
to set up a developer account, and to receive an API-key from Google.
Once you have an account, log into <a href="https://code.google.com/apis/console/?noredirect">Google APIs Console</a>,
and enable these following web services:
<ul>
<li><a href="https://developers.google.com/maps/documentation/distancematrix">Distance Matrix API</a></li>
<li><a href="https://developers.google.com/maps/documentation/elevation">Elevation API</a></li>
<li><a href="https://developers.google.com/maps/documentation/geocoding">Geocoding API</a></li>
</ul>

<h2>Execute GShell Map</h2>
Before you run this program, please edit txt/edit_me.txt, and change the values of apiKey, mysql_user, and mysql_password into your own corresponding user data.
If you don't have a <a href="http://dev.mysql.com/downloads">mysql distribution</a> yet, please download it, and install it on your hard disk. Afterwards, follow the instructions of the section
<a href="#mysql">Create the database phonebook for GPhonebook</a>

<br />
## txt/edit_me.txt<br />
<p class="code">apiKey:YOUR_OWN_API-KEY<br />
mysql_user:YOUR_OWN_MYSQL_USERNAME<br />
mysql_password:YOUR_OWN_MYSQL_PASSWORD
</p>

<h3>Run GShell Map in Eclipse</h3>
<img src="eclipse1.png" alt="Running GShell Map in eclipse" align="bottom" />
Running GShell Map in an IDE (<b>I</b>ntegrated <b>D</b>elevopment <b>E</b>nvironment") is the easiest way.
Just import GShellMap project and any other depending projects
(like <a href="https://github.com/googlemaps/google-maps-services-java">google-maps-services-java-master</a>,
<a href="https://github.com/square/okio">okio-master</a>, .. for example) into your workspace. Add depending projects and .jar files
to the build path of each project until just e a few error warnings are reported (In the end there will still be some minor compilation errors
in the open source project <a href="https://github.com/square/okhttp">okhttp-master</a>
but they don't affect the compilation of GShell Map project. Actually, you won't need to download that entire project at all. You can use 
<a href="http://square.github.io/okhttp">okhttp-2.2.0.jar</a> instead.
Finally, compile them all by clicking "Save All".
To run the actual GShell Map application, select the GShell Map project, start a new launch configuration, and choose one of these main classes:
<ul>
<li>shell.distance.GMapShell</li>
<li>shell.geometry.GooMetryShell</li>
<li>shell.mysql.GPhonebook</li>
</ul>
It should work with any Java supporting IDE like <a href="http://archive.eclipse.org/eclipse/downloads/drops/R-3.8-201206081200/index.php#EclipseSDK">eclipse</a>.

<h3>Run GShell Map in a shell box/command line (cmd)/console</h3>
GShell Map consists of several packages and main classes (GMapShell, GooMetryShell, Phonebook, ...).
All main classes have been compressed in <i>gshellmap.jar</i>.
Unfortunately, Google Map Service, and Okio don't provide any .jar files (at the time of this writing).
I had to download some requiring projects, and compile them for myself. After the compilation, I archived the binaries into
<ul>
<li>gmapservice.jar (Google Map Service)</li>
<li>okio.jar (Okio)</li>
</ul>

Any other depending libraries are stored in the subfolder <i>libs</i>. Of course, you can name it as you like.
To keep it simple, let's call the subfolder
<div class="code">LIB_PATH</div>
In general, the command for running this application looks like this:<br />
<div class="code">java -cp .:$CLASSPATH $MAIN_CLASS --parameter0 value0 --parameter1 value1 ... --parameter(n-1) --value(n-1)</div><br />
$CLASSPATH contains
<ul>
<li><div class="code">LIB_PATH</div>/okhttp-2.2.0.jar</li>
<li><div class="code">LIB_PATH</div>/gson-2.3.1.jar</li>
<li><div class="code">LIB_PATH</div>/joda-time-2.7.jar</li>
<li><div class="code">LIB_PATH</div>/mysql-connector-java-5.1.34-bin.jar</li>
<li><div class="code">LIB_PATH</div>/gmapservice.jar</li>
<li><div class="code">LIB_PATH</div>/okio.jar</li>
<li>gshellmap.jar</li>
</ul>

$MAIN_CLASS can be any of these ones:
<ul>
<li>shell.distance.GMapShell</li>
<li>shell.geometry.GooMetryShell</li>
<li>shell.mysql.GPhonebook</li>
</ul>

<h3>Run GMapShell</h3>
<b>Note: the option --apiKey is deprecated!</b>.
You shouldn't use it anymore. Once you edit txt/edit_me.txt, the program will find your API-Key in the text file.

<img src="gshellmap02.png" alt="GMapShell (user inputs)" />
<img src="gshellmap01.png" alt="GMapShell (results)" />
<div class="code">java -cp $CLASSPATH shell.distance.GMapShell $OPTIONAL_PARAMETERS</div><br />
GMapShell calculates distances and travel duration between an origin (start point location), and a destination (end point location).
It also retrieves latitude -, longitude -, and elevation values of each given address.
<p class="code"><br />
Optional Parameters:<br />
--help prints this help information<br />
--language [de, en, en-GB, en-AU, es, fr, ...] see also https://developers.google.com/maps/faq#languagesupport<br />
--unit [IMPERIAL (in feet, or miles)|METRIC (in metres, or kilometres)]<br />
--mode [driving|bicycling|walking|transit]<br />
--fuzzy [false|true]; if true, simple string queries can be performed  (e. g. origin address: England, destination address: Germany<br />
--routes [false|true]; if set true, all routes (directions) from the start address to the end address are listed<br />
</p>

<h3>Run GooMetryShell</h3>
<b>--apiKey is deprecated!</b> (read above)<br />
<img src="gmetryshell.png" alt="GooMetryShell" />
<div class="code">java -cp $CLASSPATH shell.geometry.GooMetryShell $PARAMETERS $OPTIONAL_PARAMETERS</div><br />
GooMetryShell retrieves addresses by given coordinate values (latitude and longitude).

<p class="code"><br />
PARAMETERS:<br />
--latitude	[-90.000000, 90.000000]<br />
--longitude	[-179.999999, 180.000000]
</p>

<p class="code">
Optional Parameters:<br />
--help	prints this help information
</p>

<h3>Run GPhonebook</h3>
<b>Note: --apiKey is deprecated!</b> (read above)<br />
<img src="gphonebook.png" alt="GPhoneBook" />
<div class="code">java -cp $CLASSPATH shell.mysql.GPhonebook $PARAMETERS $OPTIONAL_PARAMETERS</div><br />
GPhonebook works like a phone book. In the first place, it looks up fixed-line numbers, and street addresses (by given latitude and longitude values) which are stored in a database.
In addition, it also retrieves email addresses and mobile/cell phone numbers.

<p class="code"><br />
PARAMETERS:<br/>
--query	[all|address|email|phone]
</p>

<p class="code">
OPTIONAL_PARAMETERS<br />
--help	print this help information
</p>

<h2><a id="mysql">Create the database phonebook for GPhonebook</a></2>
Coming soon!
</body>
</html>